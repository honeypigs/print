(window.webpackJsonp=window.webpackJsonp||[]).push([["bundle_ui_tooltip"],{1657:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tooltip=tooltip,exports.horizontalTooltip=horizontalTooltip,exports.hideTooltip=hideTooltip,exports.removeTooltip=removeTooltip,exports.setNewFeatureTips=setNewFeatureTips,exports.setToolbarFormFeatureTips=setToolbarFormFeatureTips,exports.changeTooltipText=changeTooltipText;var _userAgent=__webpack_require__(22),_proxy=__webpack_require__(8),_proxy2=_interopRequireDefault(_proxy);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _setTimeoutId=void 0;function toolTipMouseenter(e){var extendParam=e.data?e.data.extendParam:null,drawViewCallback=e.data?e.data.drawViewCallback:null;_setTimeoutId&&(clearTimeout(_setTimeoutId),_setTimeoutId=0),$("#tooltip").remove();var vtimeOut=0;if(extendParam&&extendParam.timeOut&&(vtimeOut=extendParam.timeOut),!(extendParam&&extendParam.showTtpInNeedScroll&&$(this)[0].scrollWidth<=$(this).outerWidth())){var handleElement=$(this),setTimeoutId=setTimeout(function(){$("#tooltip").remove();var tooltipData=handleElement.attr("data-tooltip")?handleElement.attr("data-tooltip"):handleElement.data("tooltip");if("function"===typeof tooltipData&&(tooltipData=tooltipData()),"undefined"!=typeof tooltipData&&"string"!=typeof tooltipData&&(tooltipData=handleElement[0].getAttribute("data-tooltip")),tooltipData&&!handleElement.hasClass("hp-ui-button-active")){if(extendParam&&extendParam.mouseenterCallBack&&extendParam.mouseenterCallBack(),tooltipData&&tooltipData.indexOf("()")&&0==tooltipData.indexOf("'")){var tempTooltipData=tooltipData;try{tooltipData=eval(tooltipData)}catch(e){tooltipData=tempTooltipData}}var tooltip=$("<div id='tooltip'>");if(/\n/.test(tooltipData)){var lines=tooltipData.split(/\n/);lines.forEach(function(t){var e=document.createElement("p");$(e).text(t),tooltip.append(e)})}else tooltip.text(tooltipData);tooltip.prependTo($("body")),tooltip.data("target-dom",e.target);var tooltip_taper_angle_Class="tooltip-before";extendParam&&(extendParam.tooltipArrowClass&&(tooltip_taper_angle_Class=extendParam.tooltipArrowClass),extendParam.tooltipClass&&!tooltip.hasClass(extendParam.tooltipClass)&&tooltip.addClass(extendParam.tooltipClass));var tooltipAngle=$("<div id='"+tooltip_taper_angle_Class+"'>"),tooltip_taper_angle=null;tooltip_taper_angle="tooltip-after"==tooltip_taper_angle_Class?tooltipAngle.appendTo(tooltip):tooltipAngle.prependTo(tooltip),drawViewCallback(tooltip,tooltip_taper_angle,handleElement)}},vtimeOut);vtimeOut>0&&(_setTimeoutId=setTimeoutId)}}function toolTipMouseleave(t){var e=t.data?t.data.extendParam:null;$("#tooltip").remove(),_setTimeoutId&&(clearTimeout(_setTimeoutId),_setTimeoutId=0),e&&e.mouseleaveCallBack&&e.mouseleaveCallBack()}function baseTooltip(t,e,o){if(_userAgent.isMobile||_userAgent.isPad)_userAgent.isPad&&t&&String(t).indexOf("otherusers");else{removeTooltip(t);var a=$(t);a.on("mouseenter",null,{drawViewCallback:e,extendParam:o},toolTipMouseenter),a.on("mouseleave",null,{drawViewCallback:e,extendParam:o},toolTipMouseleave)}}function tooltip(t,e){return baseTooltip(t,function(t,o,a){if(a.siblings(".dropdown-wrapper.open").length>0||a.siblings(".toolbar-border-palette.open").length>0||"toolbar-colorPicker-picker-wrapper"==a.attr("id")||"toolbar-colorPicker-picker-paint-wrapper"==a.attr("id")||("sheet-calculate-button"==a.attr("id")||"sheet-calculate-more"==a.attr("id"))&&$("#sheet-calculate").siblings(".dropdown-wrapper.open").length>0||"web_header_readonly_tip"==a.attr("id")&&!$(".readonly_tip_popup").is(":hidden"))$("#tooltip").remove();else{var i=Number(a.attr("data-tooltip-offsetleft")||0),l=a.offset().top+a.outerHeight()+10+(e.top||0),r=a.offset().left+a.outerWidth()/2-t.outerWidth()/2+i;r=(r=Math.min(document.body.clientWidth-t.outerWidth()-10,r))<=10?10:r;var n=a.offset().left+a.outerWidth()/2-r+i;o.css({left:e.beforeLeft||n}),l+30>window.innerHeight&&o&&"tooltip-after"==o.attr("id")&&(l=a.offset().top-t.outerHeight()-10),t.css({top:l,left:r>0?r:0,zIndex:1e5,maxWidth:e.maxWidth||"300px",paddingLeft:e.paddingLeft||"10px",textAlign:e.textAlign||"center"}).hide().fadeIn(),e.afterShow&&e.afterShow(t)}},e=e||{})}function horizontalTooltip(t,e,o){return e||(e={}),e.tooltipArrowClass||(e.tooltipArrowClass="tooltip-right"),baseTooltip(t,function(t,a,i){o&&o.height&&t.css("height",o.height),t.css("line-height",t.css("height")),e&&e["min-width"]&&t.css("min-width",e["min-width"]-16);var l,r=i.offset().top;"tooltip-right"==$(a).get(0).id?(l=i.offset().left+i.outerWidth(),i.offset().left+i.outerWidth()+t.outerWidth()+20>window.innerWidth&&(l=i.offset().left-t.outerWidth()-19,$(a).get(0).setAttribute("id","tooltip-left"))):l=i.offset().left-t.outerWidth()-9,e&&e.left&&(l+=e.left),r<0&&a.css({top:t.outerHeight()/2+r}),t.css({top:r>0?r:0,left:l>0?l:0,zIndex:1e5}).hide().fadeIn()},e)}function hideTooltip(){$("#tooltip").remove()}function removeTooltip(t){$(t).each(function(){$(this).off("mouseenter",null,toolTipMouseenter),$(this).off("mouseleave",null,toolTipMouseleave)})}function setNewFeatureTips(t,e){var o=(e=e||{}).localStorageKey;if(!o)throw new Error("\u4e00\u5b9a\u8981\u63d0\u4ea4\u4e00\u4e2a\u672c\u5730\u5b58\u50a8\u7684 key");var a=e.tip;if(a){var i=e.times||2,l=e.clickDisappear||!0,r=e.hideOriginToolTip||!0,n=e.duration||1e4,p=e.noTipsAfterUse||!0;if(localStorage){var d=parseInt(localStorage.getItem(o))||0;if(d>i)return;localStorage.setItem(o,parseInt(d)+1)}var s=$("<div></div>").addClass("toolbar-new-feature-tip-new").html(a);t.append(s);var u=t.attr("data-tooltip");t.attr("origin-data-tooltip",u),r&&t.removeAttr("data-tooltip");var c=!1;l&&(t.one("click",f),s.one("click",f)),n&&setTimeout(function(){f()},n)}function f(e){c||(c=!0,s.remove(),t.attr("data-tooltip")||t.attr("data-tooltip",u),t.removeAttr("origin-data-tooltip"),tooltip("#"+t.attr("id")),e&&(e.currentTarget!==t[0]?(e.stopPropagation(),e.preventDefault()):p&&localStorage.setItem(o,parseInt(i)+1)))}}function setToolbarFormFeatureTips(t,e){var o=(e=e||{}).localStorageKey;if(!o)throw new Error("\u4e00\u5b9a\u8981\u63d0\u4ea4\u4e00\u4e2a\u672c\u5730\u5b58\u50a8\u7684 key");var a=e.times||1;if(localStorage){var i=parseInt(localStorage.getItem(o))||0;if(i>=a)return;localStorage.setItem(o,parseInt(i)+1)}var l=$("<div></div>").addClass("toolbar-new-feature-tip-new-big");function r(){l.remove()}if(l.html('<div><div class="close-icon"></div><h4>\u6536\u96c6\u4fe1\u606f\u5f88\u9ebb\u70e6\uff1f</h4><div class="toolbar-new-feature-tips-new-step"><div>\u521b\u5efa\u6536\u96c6\u8868</div><div>\u5206\u4eab\u5230\u7fa4</div><div>\u81ea\u52a8\u6c47\u603b\u5230\u8868\u683c</div></div><div class="bind-form-new-icon"></div><button class="create-bind-form">\u521b\u5efa\u6536\u96c6\u8868</button></div>'),t.after(l),e.duration){var n=e.duration||1e4;setTimeout(function(){r()},n)}$(".create-bind-form").one("click",function(){window.SpreadsheetApp.plugins.rmap.handle("new_to_form"),_proxy2.default.tdwReport({opername:"doc_form",module:"excel",action:"clk_guide_create"}),r()});var p=l.find(".close-icon");l.one("click",r),p.one("click",r),_proxy2.default.tdwReport({opername:"doc_form",module:"excel",action:"expo_new_guide"})}function changeTooltipText(t){var e=$("#tooltip");/\n/.test(t)?t.split(/\n/).forEach(function(t){var o=document.createElement("p");$(o).text(t),e.append(o)}):e.text(t)}}}]);
//# sourceMappingURL=bundle_ui_tooltip-c3f0134326.js.map